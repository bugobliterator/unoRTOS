   1               		.file	"isLeap.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
  38               	.global	is_leap_year
  40               	is_leap_year:
  41               		.stabd	46,0,0
   1:../freeRTOS750/lib_time/isLeap.c **** /*
   2:../freeRTOS750/lib_time/isLeap.c ****  * (C)2012 Michael Duane Rice All rights reserved.
   3:../freeRTOS750/lib_time/isLeap.c ****  *
   4:../freeRTOS750/lib_time/isLeap.c ****  * Redistribution and use in source and binary forms, with or without
   5:../freeRTOS750/lib_time/isLeap.c ****  * modification, are permitted provided that the following conditions are
   6:../freeRTOS750/lib_time/isLeap.c ****  * met:
   7:../freeRTOS750/lib_time/isLeap.c ****  *
   8:../freeRTOS750/lib_time/isLeap.c ****  * Redistributions of source code must retain the above copyright notice, this
   9:../freeRTOS750/lib_time/isLeap.c ****  * list of conditions and the following disclaimer. Redistributions in binary
  10:../freeRTOS750/lib_time/isLeap.c ****  * form must reproduce the above copyright notice, this list of conditions
  11:../freeRTOS750/lib_time/isLeap.c ****  * and the following disclaimer in the documentation and/or other materials
  12:../freeRTOS750/lib_time/isLeap.c ****  * provided with the distribution. Neither the name of the copyright holders
  13:../freeRTOS750/lib_time/isLeap.c ****  * nor the names of contributors may be used to endorse or promote products
  14:../freeRTOS750/lib_time/isLeap.c ****  * derived from this software without specific prior written permission.
  15:../freeRTOS750/lib_time/isLeap.c ****  *
  16:../freeRTOS750/lib_time/isLeap.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  17:../freeRTOS750/lib_time/isLeap.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  18:../freeRTOS750/lib_time/isLeap.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  19:../freeRTOS750/lib_time/isLeap.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  20:../freeRTOS750/lib_time/isLeap.c ****  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  21:../freeRTOS750/lib_time/isLeap.c ****  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  22:../freeRTOS750/lib_time/isLeap.c ****  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  23:../freeRTOS750/lib_time/isLeap.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  24:../freeRTOS750/lib_time/isLeap.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  25:../freeRTOS750/lib_time/isLeap.c ****  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  26:../freeRTOS750/lib_time/isLeap.c ****  * POSSIBILITY OF SUCH DAMAGE.
  27:../freeRTOS750/lib_time/isLeap.c ****  */
  28:../freeRTOS750/lib_time/isLeap.c **** 
  29:../freeRTOS750/lib_time/isLeap.c **** /* $Id$ */
  30:../freeRTOS750/lib_time/isLeap.c **** 
  31:../freeRTOS750/lib_time/isLeap.c **** /*
  32:../freeRTOS750/lib_time/isLeap.c ****     Return 1 if 'year' is a leap year, else 0.
  33:../freeRTOS750/lib_time/isLeap.c **** */
  34:../freeRTOS750/lib_time/isLeap.c **** 
  35:../freeRTOS750/lib_time/isLeap.c **** #include <stdlib.h>
  36:../freeRTOS750/lib_time/isLeap.c **** 
  37:../freeRTOS750/lib_time/isLeap.c **** unsigned char
  38:../freeRTOS750/lib_time/isLeap.c **** is_leap_year(int year)
  39:../freeRTOS750/lib_time/isLeap.c **** {
  43               	.LM0:
  44               	.LFBB1:
  45               	/* prologue: function */
  46               	/* frame size = 0 */
  47               	/* stack size = 0 */
  48               	.L__stack_usage = 0
  40:../freeRTOS750/lib_time/isLeap.c ****     div_t           d;
  41:../freeRTOS750/lib_time/isLeap.c **** 
  42:../freeRTOS750/lib_time/isLeap.c ****     /* year must be divisible by 4 to be a leap year */
  43:../freeRTOS750/lib_time/isLeap.c ****     if (year & 3)
  50               	.LM1:
  51 0000 9C01      		movw r18,r24
  52 0002 2370      		andi r18,3
  53 0004 3327      		clr r19
  54 0006 232B      		or r18,r19
  55 0008 01F4      		brne .L4
  44:../freeRTOS750/lib_time/isLeap.c ****         return 0;
  45:../freeRTOS750/lib_time/isLeap.c **** 
  46:../freeRTOS750/lib_time/isLeap.c ****     /* If theres a remainder after division by 100, year is not divisible by 100 or 400 */
  47:../freeRTOS750/lib_time/isLeap.c ****     d = div(year, 100);
  57               	.LM2:
  58 000a 64E6      		ldi r22,lo8(100)
  59 000c 70E0      		ldi r23,0
  60 000e 0E94 0000 		call __divmodhi4
  48:../freeRTOS750/lib_time/isLeap.c ****     if (d.rem)
  62               	.LM3:
  63 0012 892B      		or r24,r25
  64 0014 01F4      		brne .L5
  49:../freeRTOS750/lib_time/isLeap.c ****         return 1;
  50:../freeRTOS750/lib_time/isLeap.c **** 
  51:../freeRTOS750/lib_time/isLeap.c ****     /* If the quotient is divisible by 4, then year is divisible by 400 */
  52:../freeRTOS750/lib_time/isLeap.c ****     if ((d.quot & 3) == 0)
  66               	.LM4:
  67 0016 6370      		andi r22,3
  68 0018 7727      		clr r23
  69 001a 81E0      		ldi r24,lo8(1)
  70 001c 672B      		or r22,r23
  71 001e 01F0      		breq .L2
  72               	.L4:
  44:../freeRTOS750/lib_time/isLeap.c ****         return 0;
  74               	.LM5:
  75 0020 80E0      		ldi r24,0
  76 0022 0895      		ret
  77               	.L5:
  49:../freeRTOS750/lib_time/isLeap.c ****         return 1;
  79               	.LM6:
  80 0024 81E0      		ldi r24,lo8(1)
  81               	.L2:
  53:../freeRTOS750/lib_time/isLeap.c ****         return 1;
  54:../freeRTOS750/lib_time/isLeap.c **** 
  55:../freeRTOS750/lib_time/isLeap.c ****     return 0;
  56:../freeRTOS750/lib_time/isLeap.c **** }
  83               	.LM7:
  84 0026 0895      		ret
  89               	.Lscope1:
  91               		.stabd	78,0,0
  93               	.Letext0:
  94               		.ident	"GCC: (GNU) 4.7.2"
DEFINED SYMBOLS
                            *ABS*:00000000 isLeap.c
     /tmp/ccxjIhhw.s:2      *ABS*:0000003e __SP_H__
     /tmp/ccxjIhhw.s:3      *ABS*:0000003d __SP_L__
     /tmp/ccxjIhhw.s:4      *ABS*:0000003f __SREG__
     /tmp/ccxjIhhw.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccxjIhhw.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccxjIhhw.s:40     .text:00000000 is_leap_year

UNDEFINED SYMBOLS
__divmodhi4
