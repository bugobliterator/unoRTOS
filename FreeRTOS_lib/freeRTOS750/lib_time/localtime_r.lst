   1               		.file	"localtime_r.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
  83               	.global	localtime_r
  85               	localtime_r:
  86               		.stabd	46,0,0
   1:../freeRTOS750/lib_time/localtime_r.c **** /*
   2:../freeRTOS750/lib_time/localtime_r.c ****  * (C)2012 Michael Duane Rice All rights reserved.
   3:../freeRTOS750/lib_time/localtime_r.c ****  *
   4:../freeRTOS750/lib_time/localtime_r.c ****  * Redistribution and use in source and binary forms, with or without
   5:../freeRTOS750/lib_time/localtime_r.c ****  * modification, are permitted provided that the following conditions are
   6:../freeRTOS750/lib_time/localtime_r.c ****  * met:
   7:../freeRTOS750/lib_time/localtime_r.c ****  *
   8:../freeRTOS750/lib_time/localtime_r.c ****  * Redistributions of source code must retain the above copyright notice, this
   9:../freeRTOS750/lib_time/localtime_r.c ****  * list of conditions and the following disclaimer. Redistributions in binary
  10:../freeRTOS750/lib_time/localtime_r.c ****  * form must reproduce the above copyright notice, this list of conditions
  11:../freeRTOS750/lib_time/localtime_r.c ****  * and the following disclaimer in the documentation and/or other materials
  12:../freeRTOS750/lib_time/localtime_r.c ****  * provided with the distribution. Neither the name of the copyright holders
  13:../freeRTOS750/lib_time/localtime_r.c ****  * nor the names of contributors may be used to endorse or promote products
  14:../freeRTOS750/lib_time/localtime_r.c ****  * derived from this software without specific prior written permission.
  15:../freeRTOS750/lib_time/localtime_r.c ****  *
  16:../freeRTOS750/lib_time/localtime_r.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  17:../freeRTOS750/lib_time/localtime_r.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  18:../freeRTOS750/lib_time/localtime_r.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  19:../freeRTOS750/lib_time/localtime_r.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  20:../freeRTOS750/lib_time/localtime_r.c ****  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  21:../freeRTOS750/lib_time/localtime_r.c ****  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  22:../freeRTOS750/lib_time/localtime_r.c ****  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  23:../freeRTOS750/lib_time/localtime_r.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  24:../freeRTOS750/lib_time/localtime_r.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  25:../freeRTOS750/lib_time/localtime_r.c ****  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  26:../freeRTOS750/lib_time/localtime_r.c ****  * POSSIBILITY OF SUCH DAMAGE.
  27:../freeRTOS750/lib_time/localtime_r.c ****  */
  28:../freeRTOS750/lib_time/localtime_r.c **** 
  29:../freeRTOS750/lib_time/localtime_r.c **** /* $Id$ */
  30:../freeRTOS750/lib_time/localtime_r.c **** 
  31:../freeRTOS750/lib_time/localtime_r.c **** /*
  32:../freeRTOS750/lib_time/localtime_r.c **** 	Re entrant version of localtime(). Given a binary UTC time stamp, add the time
  33:../freeRTOS750/lib_time/localtime_r.c **** 	zone and Daylight savings offset, then break it down into calendar time.
  34:../freeRTOS750/lib_time/localtime_r.c **** */
  35:../freeRTOS750/lib_time/localtime_r.c **** 
  36:../freeRTOS750/lib_time/localtime_r.c **** #include <time.h>
  37:../freeRTOS750/lib_time/localtime_r.c **** 
  38:../freeRTOS750/lib_time/localtime_r.c **** extern long     __utc_offset;
  39:../freeRTOS750/lib_time/localtime_r.c **** 
  40:../freeRTOS750/lib_time/localtime_r.c **** extern int      (*__dst_ptr) (const time_t *, int32_t *);
  41:../freeRTOS750/lib_time/localtime_r.c **** 
  42:../freeRTOS750/lib_time/localtime_r.c **** void
  43:../freeRTOS750/lib_time/localtime_r.c **** localtime_r(const time_t * timer, struct tm * timeptr)
  44:../freeRTOS750/lib_time/localtime_r.c **** {
  88               	.LM0:
  89               	.LFBB1:
  90 0000 CF92      		push r12
  91 0002 DF92      		push r13
  92 0004 EF92      		push r14
  93 0006 FF92      		push r15
  94 0008 0F93      		push r16
  95 000a 1F93      		push r17
  96 000c CF93      		push r28
  97 000e DF93      		push r29
  98 0010 00D0      		rcall .
  99 0012 00D0      		rcall .
 100 0014 CDB7      		in r28,__SP_L__
 101 0016 DEB7      		in r29,__SP_H__
 102               	/* prologue: function */
 103               	/* frame size = 4 */
 104               	/* stack size = 12 */
 105               	.L__stack_usage = 12
 106 0018 6C01      		movw r12,r24
 107 001a 7B01      		movw r14,r22
  45:../freeRTOS750/lib_time/localtime_r.c **** 	time_t          lt;
  46:../freeRTOS750/lib_time/localtime_r.c **** 	int16_t         dst;
  47:../freeRTOS750/lib_time/localtime_r.c **** 
  48:../freeRTOS750/lib_time/localtime_r.c **** 	dst = -1;
  49:../freeRTOS750/lib_time/localtime_r.c **** 
  50:../freeRTOS750/lib_time/localtime_r.c **** 	if (__dst_ptr)
 109               	.LM1:
 110 001c E091 0000 		lds r30,__dst_ptr
 111 0020 F091 0000 		lds r31,__dst_ptr+1
 112 0024 3097      		sbiw r30,0
 113 0026 01F0      		breq .L5
  51:../freeRTOS750/lib_time/localtime_r.c **** 		dst = __dst_ptr(timer, &__utc_offset);
 115               	.LM2:
 116 0028 60E0      		ldi r22,lo8(__utc_offset)
 117 002a 70E0      		ldi r23,hi8(__utc_offset)
 118 002c 0995      		icall
 119 002e 8C01      		movw r16,r24
 120 0030 00C0      		rjmp .L2
 121               	.L5:
  48:../freeRTOS750/lib_time/localtime_r.c **** 	dst = -1;
 123               	.LM3:
 124 0032 0FEF      		ldi r16,lo8(-1)
 125 0034 1FEF      		ldi r17,lo8(-1)
 126               	.L2:
  52:../freeRTOS750/lib_time/localtime_r.c **** 
  53:../freeRTOS750/lib_time/localtime_r.c **** 	lt = *timer + __utc_offset;
 128               	.LM4:
 129 0036 F601      		movw r30,r12
 130 0038 4081      		ld r20,Z
 131 003a 5181      		ldd r21,Z+1
 132 003c 6281      		ldd r22,Z+2
 133 003e 7381      		ldd r23,Z+3
 134 0040 8091 0000 		lds r24,__utc_offset
 135 0044 9091 0000 		lds r25,__utc_offset+1
 136 0048 A091 0000 		lds r26,__utc_offset+2
 137 004c B091 0000 		lds r27,__utc_offset+3
 138 0050 480F      		add r20,r24
 139 0052 591F      		adc r21,r25
 140 0054 6A1F      		adc r22,r26
 141 0056 7B1F      		adc r23,r27
  54:../freeRTOS750/lib_time/localtime_r.c **** 
  55:../freeRTOS750/lib_time/localtime_r.c **** 	if (dst > 0)
 143               	.LM5:
 144 0058 1016      		cp __zero_reg__,r16
 145 005a 1106      		cpc __zero_reg__,r17
 146 005c 04F0      		brlt .L3
  53:../freeRTOS750/lib_time/localtime_r.c **** 	lt = *timer + __utc_offset;
 148               	.LM6:
 149 005e 4983      		std Y+1,r20
 150 0060 5A83      		std Y+2,r21
 151 0062 6B83      		std Y+3,r22
 152 0064 7C83      		std Y+4,r23
 153 0066 00C0      		rjmp .L4
 154               	.L3:
  56:../freeRTOS750/lib_time/localtime_r.c **** 		lt += dst;
 156               	.LM7:
 157 0068 C801      		movw r24,r16
 158 006a AA27      		clr r26
 159 006c 97FD      		sbrc r25,7
 160 006e A095      		com r26
 161 0070 BA2F      		mov r27,r26
 162 0072 840F      		add r24,r20
 163 0074 951F      		adc r25,r21
 164 0076 A61F      		adc r26,r22
 165 0078 B71F      		adc r27,r23
 166 007a 8983      		std Y+1,r24
 167 007c 9A83      		std Y+2,r25
 168 007e AB83      		std Y+3,r26
 169 0080 BC83      		std Y+4,r27
 170               	.L4:
  57:../freeRTOS750/lib_time/localtime_r.c **** 
  58:../freeRTOS750/lib_time/localtime_r.c **** 	gmtime_r(&lt, timeptr);
 172               	.LM8:
 173 0082 B701      		movw r22,r14
 174 0084 CE01      		movw r24,r28
 175 0086 0196      		adiw r24,1
 176 0088 0E94 0000 		call gmtime_r
  59:../freeRTOS750/lib_time/localtime_r.c **** 	timeptr->tm_isdst = dst;
 178               	.LM9:
 179 008c F701      		movw r30,r14
 180 008e 1387      		std Z+11,r17
 181 0090 0287      		std Z+10,r16
 182               	/* epilogue start */
  60:../freeRTOS750/lib_time/localtime_r.c **** }
 184               	.LM10:
 185 0092 0F90      		pop __tmp_reg__
 186 0094 0F90      		pop __tmp_reg__
 187 0096 0F90      		pop __tmp_reg__
 188 0098 0F90      		pop __tmp_reg__
 189 009a DF91      		pop r29
 190 009c CF91      		pop r28
 191 009e 1F91      		pop r17
 192 00a0 0F91      		pop r16
 193 00a2 FF90      		pop r15
 194 00a4 EF90      		pop r14
 195 00a6 DF90      		pop r13
 196 00a8 CF90      		pop r12
 197 00aa 0895      		ret
 203               	.Lscope1:
 205               		.stabd	78,0,0
 207               	.Letext0:
 208               		.ident	"GCC: (GNU) 4.7.2"
DEFINED SYMBOLS
                            *ABS*:00000000 localtime_r.c
     /tmp/cc7eJRPz.s:2      *ABS*:0000003e __SP_H__
     /tmp/cc7eJRPz.s:3      *ABS*:0000003d __SP_L__
     /tmp/cc7eJRPz.s:4      *ABS*:0000003f __SREG__
     /tmp/cc7eJRPz.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/cc7eJRPz.s:6      *ABS*:00000001 __zero_reg__
     /tmp/cc7eJRPz.s:85     .text:00000000 localtime_r

UNDEFINED SYMBOLS
__dst_ptr
__utc_offset
gmtime_r
